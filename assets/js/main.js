//Source: https://tympanus.net/codrops/
{function a(f,g,h){var k;return function(){var l=this,m=arguments,o=h&&!k;clearTimeout(k),k=setTimeout(function(){k=null,h||f.apply(l,m)},g),o&&f.apply(l,m)}}let b={width:window.innerWidth,height:window.innerHeight};const c={image:{duration:900,delay:0,easing:[0.8,0,0.2,1]},more:{duration:900,delay:0,easing:[0.8,0,0.2,1]},facts:{duration:300,delay:0,easing:[0.8,0,0.2,1]},title:{duration:700,delay:200,easing:[0.8,0,0.2,1]},description:{duration:900,delay:400,easing:'easeOutExpo'},pagination:{duration:300,delay:400,easing:'easeInOutQuad'},menuCtrl:{duration:300,easing:[0.2,1,0.3,1]},menuItems:{duration:300,easing:[0.2,1,0.3,1]},factsCtrl:{duration:300,easing:'linear'},gallery:{duration:800,easing:[0.2,1,0.3,1]},navigationCtrls:{duration:800,easing:[0.8,0,0.2,1]},previewCloseCtrl:{duration:300,easing:'easeOutExpo'},factsItems:{duration:800,easing:[0.8,0,0.2,1]},expander:{duration:800,easing:[0.8,0,0.2,1]}};class d{constructor(f){this.DOM={el:f},this.init()}init(){this.DOM.title=this.DOM.el.querySelector('.section__content > .section__title'),charming(this.DOM.title),this.DOM.titleLetters=this.DOM.title.querySelectorAll('span'),this.DOM.description=this.DOM.el.querySelector('.section__content > .section__description'),this.DOM.image=this.DOM.el.querySelector('.section__img > .section__img-inner'),this.DOM.more=this.DOM.el.querySelector('.section__more > .section__more-inner'),this.DOM.expander=this.DOM.el.querySelector('.section__expander'),this.DOM.facts={wrapper:this.DOM.el.querySelector('.section__facts'),items:Array.from(this.DOM.el.querySelectorAll('.section__facts > .section__facts-item'))}}show(f){return this.isHidden=!1,this.toggle(f)}hide(f){return this.isHidden=!0,this.toggle(f)}toggle(f){return this.direction=f,Promise.all([this.toggleTitle(!this.isHidden),this.toggleDescription(!this.isHidden),this.toggleImage(!this.isHidden),this.toggleMore(!this.isHidden),this.toggleFacts(!this.isHidden)])}toggleTitle(){return anime.remove(this.DOM.titleLetters),anime({targets:this.DOM.titleLetters,duration:c.title.duration,delay:(f,g)=>30*g+c.title.delay,easing:c.title.easing,translateY:this.isHidden?[0,'next'===this.direction?'-100%':'100%']:['next'===this.direction?'100%':'-100%',0],opacity:{value:this.isHidden?0:1,duration:1,delay:()=>this.isHidden?c.title.duration+c.title.delay:c.title.delay}}).finished}toggleDescription(){return anime.remove(this.DOM.description),anime({targets:this.DOM.description,duration:c.description.duration,delay:this.isHidden?c.description.delay:0.5*c.description.duration+c.description.delay,easing:c.description.easing,translateY:this.isHidden?[0,'next'===this.direction?'-10%':'10%']:['next'===this.direction?'20%':'-20%',0],opacity:this.isHidden?0:1}).finished}toggleImage(){return this.DOM.image.style.transformOrigin=this.isHidden?`50% 50%`:`50% ${'next'===this.direction?0:100}%`,anime.remove(this.DOM.image),anime({targets:this.DOM.image,duration:c.image.duration,delay:c.image.delay,easing:c.image.easing,translateY:this.isHidden?['0%','next'===this.direction?'-100%':'100%']:['next'===this.direction?'100%':'-100%','0%'],scale:this.isHidden?1:[1.8,1],opacity:{value:this.isHidden?0:1,duration:1,delay:this.isHidden?c.image.duration+c.image.delay:c.image.delay}}).finished}toggleMore(){return anime.remove(this.DOM.more),anime({targets:[this.DOM.more,this.DOM.more.children],duration:c.more.duration,delay:c.more.delay,easing:c.more.easing,translateY:this.isHidden?['0%','next'===this.direction?'-100%':'100%']:['next'===this.direction?'100%':'-100%','0%'],opacity:{value:this.isHidden?0:1,duration:(f,g)=>g?c.more.duration/3:1,delay:(f,g)=>g?this.isHidden?100:0.5*c.more.duration+c.more.delay:this.isHidden?c.more.duration+c.more.delay:c.more.delay}}).finished}toggleFacts(){return anime.remove(this.DOM.facts.items),anime({targets:this.DOM.facts.items.slice(0,2),duration:c.facts.duration,delay:(f,g)=>{return this.isHidden?40*g+c.facts.delay:40*g+0.5*c.facts.duration+c.facts.delay},easing:c.facts.easing,translateY:this.isHidden?[this.DOM.facts.ty,'next'===this.direction?this.DOM.facts.ty-20:this.DOM.facts.ty+20]:['next'===this.direction?this.DOM.facts.ty+20:this.DOM.facts.ty-20,this.DOM.facts.ty],opacity:this.isHidden?0:1}).finished}}class e{constructor(f){this.DOM={},this.DOM.el=f,this.init()}init(){this.DOM.menuCtrl=this.DOM.el.querySelector('.sections__header > button.button-menu'),this.DOM.menu={wrapper:this.DOM.el.querySelector('.menu'),items:Array.from(this.DOM.el.querySelectorAll('.menu > .menu__inner > .menu__item')),menuCtrls:{toggle:this.DOM.el.querySelector('.menu > .menu__toggle'),open:this.DOM.el.querySelector('.menu > .menu__toggle > .menu__toggle-inner--open'),close:this.DOM.el.querySelector('.menu > .menu__toggle > .menu__toggle-inner--close')}},this.DOM.factsContainer=this.DOM.el.querySelector('.facts'),this.DOM.factsCtrls={toggle:this.DOM.factsContainer.querySelector('.facts__toggle'),more:this.DOM.factsContainer.querySelector('.facts__toggle > .facts__toggle-inner--more'),less:this.DOM.factsContainer.querySelector('.facts__toggle > .facts__toggle-inner--less')},this.DOM.previewCloseCtrl=this.DOM.factsContainer.querySelector('.button-contentclose'),this.DOM.pagination=this.DOM.el.querySelector('.sections__index .sections__index-inner'),this.DOM.navigation=this.DOM.el.querySelector('.sections__nav'),this.DOM.navigation.prevCtrl=this.DOM.navigation.querySelector('button.sections__nav-item--prev'),this.DOM.navigation.nextCtrl=this.DOM.navigation.querySelector('button.sections__nav-item--next'),this.DOM.entries=Array.from(this.DOM.el.querySelectorAll('.section'),f=>new d(f)),this.entriesTotal=this.DOM.entries.length,this.currentPos=0,this.layout(),this.initEvents()}layout(){this.currentEntry=this.DOM.entries[this.currentPos];const f=this.currentEntry.DOM.facts.items[0],g=f.getBoundingClientRect().height+parseFloat(window.getComputedStyle(f).marginBottom),h=window.getComputedStyle(this.currentEntry.DOM.facts.wrapper),k=parseFloat(h.paddingTop)+parseFloat(h.paddingBottom);this.factsTranslation=b.height-2*g-k;for(let l=0;l<=this.entriesTotal-1;++l){const m=this.DOM.entries[l];m.DOM.expander.style.transform=`scale3d(0.54,1,1) translate3d(0px,${this.factsTranslation}px,0px)`;for(let n=0,o=m.DOM.facts.items.length;n<=o-1;++n){m.DOM.facts.ty=this.factsTranslation;const p=m.DOM.facts.items[n];p.style.transform=`translate3d(0px,${this.factsTranslation}px,0px)`,1<n?p.style.opacity=0:l===this.currentPos&&(p.style.opacity=1)}}}initEvents(){this.onPrevClick=()=>this.navigate('prev'),this.onNextClick=()=>this.navigate('next'),this.DOM.navigation.prevCtrl.addEventListener('click',this.onPrevClick),this.DOM.navigation.nextCtrl.addEventListener('click',this.onNextClick),this.DOM.menu.menuCtrls.toggle.addEventListener('click',()=>this.toggleMenu()),this.DOM.factsCtrls.toggle.addEventListener('click',()=>this.toggleFactsContainer());for(let f=0;f<=this.entriesTotal-1;++f){const g=this.DOM.entries[f];g.DOM.facts.items.filter(h=>h.classList.contains('section__facts-item--clickable')).forEach(h=>h.addEventListener('click',()=>this.preview(h.dataset.gallery)))}this.DOM.previewCloseCtrl.addEventListener('click',()=>this.closePreview()),this.onResize=()=>{b={width:window.innerWidth,height:window.innerHeight},this.layout(),this.isFactsOpen&&(this.DOM.factsCtrls.more.style.opacity=1,this.DOM.factsCtrls.less.style.opacity=0,this.isFactsOpen=!this.isFactsOpen,this.toggleNavigationCtrls({opacity:1,duration:1}),this.isFactsAnimating=!1),this.gallery&&(this.DOM.previewCloseCtrl.style.opacity=0,this.toggleGallery(this.gallery,{duration:1,opacity:0}).then(()=>this.gallery=null)),this.DOM.el.classList.remove('sections--factsopen')},window.addEventListener('resize',a(()=>this.onResize(),20))}navigate(f){if(!(this.isEntriesAnimating||this.isFactsAnimating)){this.isEntriesAnimating=!0,this.direction=f;const g=this.currentPos='next'===this.direction?this.currentPos<this.entriesTotal-1?this.currentPos+1:0:this.currentPos=0<this.currentPos?this.currentPos-1:this.entriesTotal-1,h=this.DOM.entries[g];this.update(h)}}update(f){const g=()=>{Promise.all([this.currentEntry.hide(this.direction),f.show(this.direction),this.updatePageNumber()]).then(()=>{this.isEntriesAnimating=!1,this.currentEntry.DOM.el.classList.remove('section--current'),f.DOM.el.classList.add('section--current'),this.currentEntry=f})};this.isFactsOpen?this.toggleFactsContainer().then(g):g()}updatePageNumber(){anime.remove(this.DOM.pagination);let f=!1;return anime({targets:this.DOM.pagination,duration:c.pagination.duration,easing:'easeInOutQuad',translateY:[{value:'next'===this.direction?'-100%':'100%',delay:c.pagination.delay},{value:['next'===this.direction?'100%':'-100%','0%'],delay:c.pagination.duration}],opacity:[{value:0,delay:c.pagination.delay},{value:[0,1],delay:c.pagination.duration}],update:g=>{50<=g.progress&&!f&&(f=!0,this.DOM.pagination.innerHTML=`0${this.currentPos+1}`)}}).finished}toggleMenu(){if(!this.isMenuAnimating){this.isMenuAnimating=!0;this.DOM.menu.wrapper.classList.toggle('menu--open'),Promise.all([(()=>{return anime.remove([this.DOM.menu.menuCtrls.open,this.DOM.menu.menuCtrls.close]),anime({targets:[this.DOM.menu.menuCtrls.open,this.DOM.menu.menuCtrls.close],duration:c.menuCtrl.duration,easing:c.menuCtrl.easing,opacity:(h,k)=>k?this.isMenuOpen?0:1:this.isMenuOpen?1:0,translateX:(h,k)=>k?this.isMenuOpen?'50%':['50%','0%']:this.isMenuOpen?'0%':['0%','-50%']}).finished})(),(()=>{return anime.remove(this.DOM.menu.items),anime({targets:this.DOM.menu.items,duration:c.menuItems.duration,easing:c.menuItems.easing,delay:(h,k)=>this.isMenuOpen?0:80*k,translateX:this.isMenuOpen?'0%':['5%','0%'],opacity:{value:this.isMenuOpen?0:[0,1],easing:'linear',delay:(h,k)=>this.isMenuOpen?0:80*k}}).finished})()]).then(()=>{this.isMenuOpen=!this.isMenuOpen,this.isMenuAnimating=!1})}}toggleFactsContainer(){if(!this.isFactsAnimating)return this.isFactsAnimating=!0,Promise.all([this.toggleFactsCtrl(),this.animateExpander(),this.animateFactsItems()]).then(()=>{this.isFactsOpen=!this.isFactsOpen,this.isFactsAnimating=!1})}preview(f){this.isFactsAnimating||!f||(this.isFactsAnimating=!0,this.gallery=f,this.DOM.el.classList.add('sections--factsopen'),Promise.all([this.toggleNavigationCtrls({opacity:0}),this.toggleFactsCtrl({delay:0,opacity:0}),this.animateExpander({translateY:0,scaleX:1.05}),this.animateFactsItems({translateY:0,opacity:0,delay:0}),this.togglePreviewCloseCtrl({opacity:1,delay:800}),this.toggleGallery(f,{opacity:1,scale:(g,h)=>h?[0.7,1]:[1,1],delay:(g,h)=>h?100*h+700:700})]).then(()=>this.isFactsAnimating=!1))}closePreview(){this.isFactsAnimating||(this.isFactsAnimating=!0,Promise.all([this.toggleNavigationCtrls({opacity:1}),this.toggleFactsCtrl({delay:600,opacity:(f,g)=>g}),this.animateExpander({translateY:0,scaleX:0.54}),this.animateFactsItems({translateY:0,opacity:1,delay:200}),this.togglePreviewCloseCtrl({opacity:0}),this.toggleGallery(this.gallery,{opacity:0})]).then(()=>{this.isFactsAnimating=!1,this.gallery=null,this.DOM.el.classList.remove('sections--factsopen')}))}animateExpander(f){return this.animate(Object.assign({targets:this.currentEntry.DOM.expander,duration:c.expander.duration,easing:c.expander.easing,delay:this.isFactsOpen?300:0,translateY:this.isFactsOpen?this.factsTranslation:[this.factsTranslation,0],scaleX:[0.54,0.54]},f))}animateFactsItems(f){return this.animate(Object.assign({targets:this.currentEntry.DOM.facts.items,duration:c.factsItems.duration,easing:c.factsItems.easing,delay:(g,h,k)=>this.isFactsOpen?30*(k-h-1):30*(h+1)+150,translateY:this.isFactsOpen?this.factsTranslation:[this.factsTranslation,0],opacity:(g,h)=>this.isFactsOpen?1<h?0:1:1},f))}toggleFactsCtrl(f){return this.animate(Object.assign({targets:[this.DOM.factsCtrls.more,this.DOM.factsCtrls.less],duration:c.factsCtrl.duration,easing:c.factsCtrl.easing,opacity:(g,h)=>h?this.isFactsOpen?0:1:this.isFactsOpen?1:0},f))}togglePreviewCloseCtrl(f){return this.animate(Object.assign({targets:this.DOM.previewCloseCtrl,duration:c.previewCloseCtrl.duration,easing:c.previewCloseCtrl.easing},f))}toggleNavigationCtrls(f){return this.animate(Object.assign({targets:[this.DOM.navigation.prevCtrl,this.DOM.navigation.nextCtrl],duration:c.navigationCtrls.duration,easing:c.navigationCtrls.easing},f))}toggleGallery(f,g){return this.animate(Object.assign({targets:this.DOM.el.querySelectorAll(`#${f} > .section__gallery-item`),duration:c.gallery.duration,easing:c.gallery.easing},g))}animate(f){return anime.remove(f.targets),anime(f).finished}}imagesLoaded(document.querySelectorAll('img'),()=>{document.body.classList.remove('loading'),new e(document.querySelector('.sections'))})}